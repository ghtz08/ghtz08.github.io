<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title> 软件工程测试 </title>
</head>
<body>
    <p id = "problemLabel">
        问题 0/0
    </p>
    <p id = "problem">
        题目
    </p>
    答案: <input id="userAnswer">
    <input onclick="check()" type="submit"/>

    <br/>
    <input id="firstUnit" type="checkbox" onclick="init()" checked ="checked"/> 作业 1
    <input id="secondUnit" type="checkbox" onclick="init()" checked ="checked"/> 作业 2
    <input id="thirdUnit" type="checkbox" onclick="init()" checked ="checked"/> 作业 3
    <p id = "tip">
    </p>
</body>
</html>

<script type="text/javascript">
    var problemLabelElement = document.getElementById("problemLabel")
    var problemElement = document.getElementById("problem");
    var userAnswerElement = document.getElementById("userAnswer");
    var tipElement = document.getElementById("tip");

    var choice = 0;

    function check() {
        if (testData.length === 0) {
            // 已经没有题可答了，但用户又有答题的欲望，直接初始化
            init();
            return;
        }
        var userAnswer = userAnswerElement.value.trim();
        if (userAnswer === "") {
            tipElement.innerText = "请先输入答案...";
            returnl
        }

        var answer = testData[choice][0][1];
        if (userAnswer === answer) {
            tipElement.innerText = "^_^ 回答正确";
            userAnswerElement.value = "";
            testData[choice][1] -= 1;
        } else {
            tipElement.innerText = testData[choice][0][0] + "\n" +
                "-_-  你的答案: " + userAnswer +
                "  正确答案: " + answer;
            userAnswerElement.value = "";
            testData[choice][1] += 1;
        }

        if (testData[choice][1] === 0) {
            // 只有用户把题目的次数消耗完才移除
            testData.splice(choice, 1);
        }

        if (testData.length === 0) {
            tipElement.innerText = "恭喜你，已经完成了所有题目\n" +
                "输入回车或者点击按钮或者重新选择作业进行下一轮";
            return;
        }
        query();
    }

    function query() {
        choice = Math.floor(Math.random()*testData.length);

        problemLabelElement.innerText = "问题 " + 
            (totalTestNumber-testData.length) + "/" + totalTestNumber;
        var count = testData[choice][1];
        problemElement.innerText = testData[choice][0][0] +
            (count!=1? ("  "+count): "");   // 如果是做错过的题，提示用户还要做几次
    }

    function init() {
        userAnswerElement.focus();
        tipElement.innerText = "";

        var data = getData(
            document.getElementById("firstUnit").checked,
            document.getElementById("secondUnit").checked,
            document.getElementById("thirdUnit").checked,
        );
        if (data.length === 0) {
            tipElement.innerText = "至少需要选择一项作业";
            return;
        }

        testData = []
        for (var i in data) {
            testData.push([data[i], 1]);
        }
        totalTestNumber = testData.length;

        query();
    }
    init();

    userAnswerElement.onkeypress = function(event) {
        // window.event || 
        if (event.keyCode == 13) {
            check();
        } else {
            tipElement.innerText = "";
        }
    }

    function getData() {
        _allTest = [
            [
                ["Computer programs and associated ______ such as requirements, design models and user manuals.", "documentation"],
                ["New software can be created by developing new programs, configuring generic software systems or ______ existing software.", "reusing"],
                ["Software engineering is an ______ that is concerned with all aspects of software production.", "engineering discipline"],
                ["______ - checking that the software is what the customer wants", "Validation"],
                ["Generic process models: Waterfall, ______, Component-based software engineering.", "Iterative development"],
                ["Roughly 60% of costs are development costs, 40% are ______ costs.", "testing"],
                ["Upper-CASE: Tools to support the early process activities of ______ and design.", "requirements"],
                ["Lower-CASE: Tools to support later activities such as programming, debugging and ______.", "testing"],
                ["SDLC: Software ______ Life Cycle", "Development"],
                ["The waterfall model: ______ and distinct phases of specification and development.", "Separate"],
                ["Evolutionary development: Specification, development and validation are ______.", "interleaved"],
                ["The Waterfall model is only appropriate when the requirements are well-understood and ______ will be fairly limited during the design process.", "changes"],
                ["Iteration Model have two (related) approaches: Incremental delivery; ______ development.", "Spiral"],
                ["Spiral model sectors: Objective setting, ______ assessment and reduction, Development and validation, Planning", "Risk"],
                ["Process stages of Component-based software engineering: ______ analysis; Requirements modification; System design with reuse; Development and integration.", "Component"],
                ["Requirements engineering process includes: ______ study; Requirements elicitation and analysis; Requirements specification; Requirements validation.", "Feasibility"],
                ["Programming is a ______ activity - there is no generic programming process.", "personal"],
                ["Verification and ______ (V & V) is intended to show that a system conforms to its specification and meets the requirements of the system customer.", "validation"],
                ["______ software engineering (CASE) is software to support software development and evolution processes.", "Computer-aided"],
                ["CASE classification: Functional perspective, Process perspective, ______ perspective.", "Integration"],
            ],
            [
                ["Functional requirements Statements of services the system should provide, how the system should react to particular ______ and how the system should behave in particular situations.", "inputs"],
                ["Domain requirements: Requirements that come from the application domain of the system and that reflect ______ of that domain.", "characteristics"],
                ["Functional user requirements may be high-level statements of what the system should do but functional system requirements should describe the system ______ in detail.", "services"],
                ["Ambiguous requirements may be interpreted in different ways by ______ and users.", "developers"],
                ["Requirements Consistent: There should be no ______ or contradictions in the descriptions of the system facilities.", "conflicts"],
                ["Organizational Requirements which are a consequence of organizational ______ and procedures e.g. process standards used, implementation requirements, etc.", "policies"],
                ["The system should be easy to use by experienced ______ and should be organized in such a way that user errors are minimized.", "controllers"],
                ["Conflicts between different non-functional requirements are ______ in complex systems.", "common"],
                ["Problems with natural language: Lack of ______, Requirements confusion and Requirements amalgamation.", "clarity"],
                ["Types of Events: External, ______ and State.", "Temporal"],
                ["Use case – an activity a system carried out, usually in, ______ to a user request.", "response"],
                ["Use case description – a description of the processing, ______ for a use case.", "steps"],
                ["The requirements document is the official, ______ of what is required of the system developers.", "statement"],
                ["IEEE requirements standard defines a generic, ______ for a requirements document that must be instantiated for each specific system.", "structure"],
                ["Design is oriented toward how system will be ______ — defining structural components.", "built"],
                ["Design is process of describing, organizing, and structuring system ______ at architectural design level and detailed design level.", "components"],
                ["To user of system, user ______ is the system.", "interface"],
                ["System analysis data model used to create physical ______ model.", "database"],
                ["Rapid application development (RAD) design ______ evolve into finished system.", "prototypes"],
                ["Local area network (LAN) less than one kilometer long – connects ______ within single building.", "computers"],
                ["Server – manages information system resources or provides well-defined ______ for client.", "services"],
                ["Business logic layer – implements rules and ______ of business processing.", "procedures"],
                ["Control – mediates between ______ and entity classes, between the view layer and domain layer.", "boundary"],
                ["Encapsulation – each object is self-contained unit that includes data and ______ that access data.", "methods"],
                ["The Data mining system allows new types of ______ to be mined by adding new integrator objects.", "relationship"],
            ],
            [
                ["DFDs Graphical system ______ that shows all main requirements for an IS in one diagram.", "model"],
                ["Data flow diagrams (DFDs) are ______ into additional diagrams to provide multiple levels of detail.", "decomposed"],
                ["Differing views of DFDs are called ______ of abstraction.", "levels"],
                ["System scope of the Context Diagrams is represented by a single ______, external agents, and all data flows into and out of the system.", "process"],
                ["The DFD Fragments show only data ______ required in the use case.", "stores"],
                ["All data that flows into a process must flow ______ of the process and are used to generate data that flows out of the process.", "out"],
                ["The Decision Tables and Decision ______ can summarize complex decision logic better than structured English.", "Trees"],
                ["Data dictionary: repository for definitions of data ______, data stores, and data elements.", "flows"],
                ["Detailed process decomposition DFDs used when internal process ______ is great.", "complexity"],
                ["Versioning is mechanism to manage systems ______.", "changes"],
                ["Alpha version – ______ testing version.", "incomplete"],
                ["Beta version – ______ testing version.", "end-user"],
                ["Production release version – formally distributed to ______ or made operational.", "users"],
                ["A test case is a formal description of starting ______, events to which software responds and expected response or ending state.", "state"],
                ["The ______ Testing tests individual modules of code or methods before integrating with other software.", "unit"],
                ["Errors of Integration Testing can include: Interface incompatibility, Incorrect parameter values, Run-time ______ and Unexpected state interactions.", "exceptions"],
                ["Complete ______ testing also performed before acceptance testing.", "system"],
                ["Usability test is a test to determine whether a module, method, class, subsystem, or system meets ______ requirements.", "user"],
                ["______ test is system test performed to determine whether system meets user requirements.", "Acceptance"],
                ["The Testing is process of examining a product to determine if any ______ exist.", "defects"],
            ],
        ];

        var data = []
        for (var i = 0; i < 3; ++i) {
            if (arguments[i]) {
                data = data.concat(_allTest[i]);
            }
        }
        return data;
    }
</script>
